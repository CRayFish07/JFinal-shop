<!doctype html>
<html class="no-js fixed-layout">
<head>
<% include("/common/shop_head.html"){}%>
<script type="text/javascript">
$().ready( function() {
	
	var $depositRechargeForm = $("#depositRechargeForm");
	
	// 表单验证
	$depositRechargeForm.validate({
		ignore: ".ignoreValidate",
		invalidHandler: function(form, validator) {
			$.each(validator.invalid, function(key, value){
				$.tip(value);
				return false;
			});
		},
		errorPlacement:function(error, element) {},
		submitHandler: function(form) {
			$depositRechargeForm.find(":submit").attr("disabled", true);
			form.submit();
		}
	});
	
});
</script>
</head>
<body>
<%include("/shop/header.html"){}%>
<div class="am-cf shop-main">
  <!-- sidebar start -->
  <%include("/shop/sidebar.html"){}%>
  <!-- sidebar end -->

  <!-- content start -->
  <div class="shop-content">
    <div class="shop-content-body">
      <ol class="am-breadcrumb am-margin-left am-margin-bottom-0">
        <li class="am-active">预存款充值</li>
      </ol>
      <form id="depositRechargeForm" action="${base}/shop/payment/confirm" method="post">
	  <input type="hidden" name="paymentType" value="recharge" />
      <div class="am-form am-margin am-form-horizontal">
        <div class="am-form-group am-form-group-sm">
          <label class="am-u-sm-4 am-u-md-3 am-text-right am-form-label">充值金额</label>
          <div class="am-u-sm-8 am-u-md-9">
            <input type="number" class="am-form-field" name="amountPayable" value="" min="0.01" placeholder="请填写充值金额！"  required>
          </div>
        </div>
        <div class="am-form-group am-form-group-sm">
          <label class="am-u-sm-4 am-u-md-3 am-text-right am-form-label">支付方式</label>
          <div class="am-u-sm-8 am-u-md-9">
            <table>
                    <%for(list in nonDepositOfflinePaymentConfigList){%>
                      <tr>
                        <td class="nameTd">
                          <label>
                            <input type="radio" name="paymentConfig.id" value="${list.id}" required/>
                            ${list.name}
                          </label>
                        </td>
                        <td>
                          <%if (list.paymentFeeType == "scale" && list.paymentFee != 0){%>
                            [支付手续费费率：${list.paymentFee}%]
                          <%}else if (list.paymentFeeType == "fixed" && list.paymentFee != 0){%>
                            [支付手续费：${list.paymentFee,orderUnitCurrencyFormat}]
                          <%}%>
                          <p>${list.description}</p>
                        </td>
                      </tr>
                    <%}%>
                  </table>
          </div>
        </div>
        <hr data-am-widget="divider" class="am-divider am-divider-dashed" />
      <div class="am-form-group am-form-group-sm">
        <div class="am-u-sm-8 am-u-sm-offset-4 am-u-md-9 am-u-md-offset-3">
          <button type="submit" class="am-btn am-btn-primary"><span class="am-icon-money">立刻充值</span></button>
        </div>
      </div>
    </div>
    </form>
    </div>
    <%include("/shop/footer.html"){}%>
  </div>
  <!-- content end -->
</div>
</body>
</html>